set pidfile /tmp/monit.pid
set httpd unixsocket /tmp/monit.sock
    allow user:pass

check process soffice matching "unoconv"
    start program = "/usr/local/bin/soffice-wrapper"
    stop program = "/usr/bin/pkill -9 -f unoconv"
    if does not exist then start
    if total memory > 4096.0 MB for 64 cycles then restart

check program sofficecheck with path /usr/local/bin/soffice-check
    every 30 cycles
    if status != 0 then exec "/usr/bin/monit restart soffice"

check process preview matching "preview"
    start program = "/usr/local/bin/preview-wrapper"
    stop program = "/usr/bin/pkill -9 preview"
    if does not exist then start
